# Upstream Subversion branches should be remote branches

git svn init svn://svn.savannah.nongnu.org/avrdude --trunk=trunk/avrdude
git config --add svn-remote.svn.tags "tags/*/avrdude:refs/tags/*"
git config --add svn-remote.svn.branches \
    "branches/{RELEASE_5_11}/avrdude:refs/remotes/*"

# Misplaced?
git config --add svn-remote.svn.tags "{RELEASE_5_10_0}/avrdude:refs/tags/*"

# "RELEASE_5_11_0" in top-level directory just duplicates the proper tag

# Mine previous authors. Missing ones may be found in the "ChangeLog" file.
git rev-list --all --format='%cn <%ce>' |
sort | uniq |
sed -n 's/^.* <\(.*\)@>$/\1 = &/p' > svn.authors

git svn fetch --authors-file=svn.authors

# TODO: remove "git-svn" tags where "@REV" was appended?
#~ git for-each-ref --format='%(refname)' refs/tags |
#~ while read -r tag; do
    #~ case "$tag" in
    #~ *@*)
        #~ git tag -d "$tag"
        #~ ;;
    #~ esac
#~ done

# Inhibit erroneous copy of 5.9
git tag --force RELEASE_5_8_0 52f8831
